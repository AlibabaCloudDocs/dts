# 支持的数据库和迁移类型

数据迁移功能帮助您实现同构或异构数据源之间的数据迁移，适用于数据上云迁移、阿里云内部跨实例数据迁移、数据库拆分扩容等业务场景。本文将介绍数据迁移功能支持的数据库、版本和迁移类型。

各类场景的迁移方案请参见[DTS数据迁移方案概览](/cn.zh-CN/数据迁移/DTS数据迁移方案概览.md)。

**说明：** 数据迁移在某些场景下可实现部分数据同步的功能，但是两者的适用场景、支持的数据库、功能、收费等方面存在一定区别，详情请参见[数据迁移和数据同步的区别](/cn.zh-CN/产品简介/产品功能FAQ.md)。

## 优惠活动

[DTS优惠活动，最低0折](/cn.zh-CN/产品定价/产品定价.md)

## 迁移类型说明

|迁移类型|说明|
|:---|:-|
|结构迁移|DTS将源库中待迁移对象的结构定义迁移至目标库（例如表、视图、触发器、存储过程等）。

对于异构数据库之间的结构迁移，DTS会根据源库和目标库的语法，将结构定义的语法进行转换，例如将Oracle中的number转换为MySQL中的decimal。 |
|全量数据迁移|DTS将源库中待迁移对象的存量数据，全部迁移到目标库中。如果在配置数据迁移任务时，仅选择了结构迁移和全量数据迁移，那么在迁移过程中，源库的新增数据不会被迁移至目标库。 **说明：** 为保障数据一致性，迁移期间请勿在源库中写入新的数据。如需实现不停机迁移，您需要在配置数据迁移任务时，同时选择**结构迁移**、**全量数据迁移**和**增量数据迁移**。 |
|增量数据迁移|DTS会先在源库中实现用于全量数据迁移的静态快照，然后将快照数据迁移到目标库，最后再将迁移过程中源库产生的增量数据实时同步至目标库。 **说明：** 增量数据迁移会保持实时同步的状态，所以迁移任务不会自动结束，您需要手动结束迁移任务。 |

## 支持的数据库及迁移类型

下表中各类自建数据库（例如自建MySQL、SQL Server、Oracle等）的支持的部署位置如下：

-   **有公网IP的自建数据库**
-   **无公网IP:Port的数据库（通过数据库网关DG接入）**
-   **通过云企业网CEN接入的自建数据库**
-   **ECS上的自建数据库**
-   **通过专线/VPN网关/智能接入网关接入的自建数据库**

|源数据库|目标数据库|迁移类型|
|:---|:----|:---|
|-   自建MySQL

5.1、5.5、5.6、5.7、8.0版本

-   RDS MySQL

所有版本


|自建MySQL

5.1、5.5、5.6、5.7、8.0版本

|-   结构迁移
-   全量数据迁移
-   增量数据迁移 |
|RDS MySQL

所有版本

|-   结构迁移
-   全量数据迁移
-   增量数据迁移 |
|PolarDB MySQL

所有版本

|-   结构迁移
-   全量数据迁移
-   增量数据迁移 |
|DRDS

所有版本

**说明：** DRDS中的数据库须基于RDS MySQL创建，DTS暂不支持基于PolarDB MySQL创建的数据库。

|-   全量数据迁移
-   增量数据迁移 |
|HybridDB MySQL（原名PetaData）

所有版本

|-   全量数据迁移
-   增量数据迁移 |
|分析型数据库MySQL版（AnalyticDB MySQL）

2.0、3.0版本

|-   结构迁移
-   全量数据迁移
-   增量数据迁移 |
|自建PostgreSQL

9.4、9.5、9.6、10.x、11.x、12版本

|-   全量数据迁移
-   增量数据迁移 |
|自建Oracle（RAC或非RAC架构）

9i、10g、11g、12c、18c、19c版本

|-   结构迁移
-   全量数据迁移
-   增量数据迁移 |
|自建Kafka

0.10.1.0-1.0.2版本

|-   结构迁移
-   全量数据迁移
-   增量数据迁移 |
|RDS MariaDB

10.3版本

|RDS MariaDB

10.3版本

|-   结构迁移
-   全量数据迁移
-   增量数据迁移 |
|RDS MySQL

所有版本

|-   结构迁移
-   全量数据迁移
-   增量数据迁移 |
|自建MySQL

5.1、5.5、5.6、5.7、8.0版本

|-   结构迁移
-   全量数据迁移
-   增量数据迁移 |
|PolarDB MySQL

所有版本

|PolarDB MySQL

所有版本

|-   结构迁移
-   全量数据迁移
-   增量数据迁移 |
|自建MySQL

5.1、5.5、5.6、5.7、8.0版本

|-   结构迁移
-   全量数据迁移
-   增量数据迁移 |
|RDS MySQL

所有版本

|-   结构迁移
-   全量数据迁移
-   增量数据迁移 |
|分析型数据库MySQL版（AnalyticDB MySQL）

2.0、3.0版本

|-   结构迁移
-   全量数据迁移
-   增量数据迁移 |
|PolarDB-O

所有版本

|PolarDB-O

所有版本

|-   结构迁移
-   全量数据迁移
-   增量数据迁移 |
|9i、10g、11g、12c、18c、19c版本

自建Oracle（RAC或非RAC架构）

|-   结构迁移
-   全量数据迁移
-   增量数据迁移 |
|-   自建SQL Server

2005、2008、2008R2、2012、2014、2016、2017版本

**说明：**

    -   暂不支持SQL Server Cluster或SQL Server AlwaysOn High Availability Group。
    -   源库为2005版本时不支持增量数据迁移。
-   RDS SQL Server

2008、2008R2、2012、2014、2016、2017版本

**说明：** 源库为2008或2008R2版本时不支持增量数据迁移。


|自建SQL Server

2005、2008、2008R2、2012、2014、2016、2017版本

**说明：** 暂不支持SQL Server Cluster或SQL Server AlwaysOn High Availability Group。

|-   结构迁移
-   全量数据迁移
-   增量数据迁移 |
|RDS SQL Server

2008、2008R2、2012、2014、2016、2017版本

|-   结构迁移
-   全量数据迁移
-   增量数据迁移 |
|自建Oracle（RAC或非RAC架构）

9i、10g、11g、12c、18c、19c版本

|自建Oracle（RAC或非RAC架构）

9i、10g、11g、12c、18c、19c版本

|-   结构迁移
-   全量数据迁移
-   增量数据迁移 |
|PolarDB兼容Oracle语法引擎

所有版本

|-   结构迁移
-   全量数据迁移
-   增量数据迁移 |
|RDS PPAS

9.3、10版本

|-   结构迁移
-   全量数据迁移
-   增量数据迁移 |
|自建MySQL

5.1、5.5、5.6、5.7、8.0版本

|-   结构迁移
-   全量数据迁移
-   增量数据迁移 |
|RDS MySQL

所有版本

|-   结构迁移
-   全量数据迁移
-   增量数据迁移 |
|PolarDB MySQL

所有版本

|-   结构迁移
-   全量数据迁移
-   增量数据迁移 |
|DRDS

所有版本

**说明：** DRDS中的数据库须基于RDS MySQL创建，DTS暂不支持基于PolarDB MySQL创建的数据库。

|-   全量数据迁移
-   增量数据迁移 |
|分析型数据库MySQL版（AnalyticDB MySQL）

2.0、3.0版本

|-   结构迁移
-   全量数据迁移
-   增量数据迁移 |
|-   自建PostgreSQL

9.4、9.5、9.6、10.x、11.x、12版本

-   RDS PostgreSQL

9.4、10、11、12版本


|-   自建PostgreSQL

9.4、9.5、9.6、10.x、11.x、12版本

-   RDS PostgreSQL

9.4、10、11、12版本


|-   结构迁移
-   全量数据迁移
-   增量数据迁移 |
|-   自建MongoDB（单节点、副本集或分片集群架构）

3.0、3.2、3.4、3.6、4.0或4.2版本

-   阿里云MongoDB实例（单节点或副本集架构）

所有版本


|-   自建MongoDB（单节点、副本集或分片集群架构）

3.0、3.2、3.4、3.6、4.0或4.2版本

-   阿里云MongoDB实例（单节点、副本集或分片集群架构）

所有版本


|-   全量数据迁移
-   增量数据迁移

**说明：** 属于NoSQL数据库，无需结构迁移。 |
|自建Redis（仅支持单机架构）

2.8、3.0、3.2、4.0、5.0版本

|自建Redis（单机或集群架构）

2.8、3.0、3.2、4.0、5.0版本

|-   全量数据迁移
-   增量数据迁移

**说明：** 属于NoSQL数据库，无需结构迁移。 |
|阿里云Redis实例（单机或集群架构）

社区版4.0、5.0版本

|-   全量数据迁移
-   增量数据迁移 |
|自建TiDB|自建MySQL

5.1、5.5、5.6、5.7、8.0版本

|-   结构迁移
-   全量数据迁移
-   增量数据迁移 |
|RDS MySQL

所有版本

|-   结构迁移
-   全量数据迁移
-   增量数据迁移 |
|PolarDB MySQL

所有版本

|-   结构迁移
-   全量数据迁移
-   增量数据迁移 |
|自建DB2

9.7、10.5版本

|自建MySQL

5.1、5.5、5.6、5.7、8.0版本

|-   结构迁移
-   全量数据迁移
-   增量数据迁移 |

