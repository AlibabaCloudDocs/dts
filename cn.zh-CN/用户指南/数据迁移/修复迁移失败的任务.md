# 修复迁移失败的任务 {#concept_610626 .concept}

当您的数据迁移任务在结构迁移阶段或全量数据迁移阶段，出现**迁移失败**的提示时，您可以使用DTS的在线修复功能手动修复该任务。

## 修复结构迁移失败的任务 {#section_zm3_xjw_13b .section}

DTS支持异构数据源之间的迁移，对于一些不支持的数据类型，在进行结构迁移时，如果直接迁移到目标实例，则会导致迁移失败。

**操作步骤**

1.  登录[数据传输控制台](https://dts.console.aliyun.com/)。
2.  在左侧导航栏，单击**数据迁移**。
3.  在迁移任务列表页，选择数据迁移任务所属的地域。
4.  您可以选择下述两种方法进行修复。
    -   **方法一** 
        1.  单击目标迁移任务的**查看原因并修复**。

            ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/17122/156091500649078_zh-CN.png)

        2.  在弹出的对话框中，根据提示进行调整修复，例如修改结构定义语法。
        3.  单击**重启任务**。
    -   **方法二** 
        1.  单击目标迁移任务的ID。
        2.  在左侧导航栏，单击**迁移详情** \> **结构迁移**。
        3.  在结构迁移页面，单击对象名对应的**立即修复**。

            ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/17122/156091500749079_zh-CN.png)

        4.  在立即修复对话框中，根据提示进行调整修复，例如修改结构定义语法。
        5.  单击**立即修复**。

            **说明：** 

            -   如果修复失败，则会停留在当前的立即修复对话框，且显示失败原因。您需要根据修复失败原因继续修复，直至修复成功。
            -   如果修复成功，则会返回至结构迁移页面，且该对象的状态变更为**完成**。
5.  当所有的对象全部修复成功后，DTS会自动继续执行迁移任务，例如进入全量数据迁移阶段。

## 修复全量数据迁移失败的任务 {#section_yq4_tlw_13b .section}

1.  登录[数据传输控制台](https://dts.console.aliyun.com/)。
2.  在左侧导航栏，单击**数据迁移**。
3.  在迁移任务列表页，选择数据迁移任务所属的地域。
4.  单击目标迁移任务的**查看原因并修复**。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/17122/156091500749086_zh-CN.png)

    在全量数据迁移过程中，对于以下几种失败原因，DTS提供了修复功能：

    **说明：** 对于其他失败原因，DTS只提供**忽略**操作，即不将该对象的全量数据迁移到目标数据库。

    -   源或目标数据库连接失败/超时。

        排查该问题并确认连接正常后，执行**重启任务**操作。

    -   目标实例的存储空间已满或实例被锁定。

        升级RDS实例规格或清理实例日志空间后，执行**重启任务**操作。

    -   源数据库中部分MyISAM被损坏。

        手动对源库进行修复后，执行**重启任务**操作。

5.  在弹出的对话框中，根据提示进行调整修复。
6.  修复完成后，单击**重启任务**。

